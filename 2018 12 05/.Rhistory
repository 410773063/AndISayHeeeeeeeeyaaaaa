library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
View(libraryData)
class(libraryData)
class(libraryData$學號)
class(libraryData$書籍類別)
class(libraryData$書籍名稱)
class(libraryData$讀者借閱冊數)
library(lubridate)
as.factor(libraryData$學院)
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
library(lubridate)
as.factor(libraryData$學院)
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
as.factor(libraryData$書籍館藏地)
as.factor(libraryData$書籍類別)
library(lubridate)
as.factor(libraryData$學院)
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
as.factor(libraryData$書籍館藏地)
as.factor(libraryData$書籍類別)
class(libraryData$借閱時間)
library(lubridate)
libriyData <-as.factor(libraryData$學院)
libriyData <-ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
libriyData <-as.factor(libraryData$書籍館藏地)
libriyData <-as.factor(libraryData$書籍類別)
library(lubridate)
ibraryData <-as.factor(libraryData$學院)
ibraryData <-ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
ibraryData <-as.factor(libraryData$書籍館藏地)
ibraryData <-as.factor(libraryData$書籍類別)
library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
library(lubridate)
ibraryData <-as.factor(libraryData$學院)
ibraryData <-ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
ibraryData <-as.factor(libraryData$書籍館藏地)
ibraryData <-as.factor(libraryData$書籍類別)
library(lubridate)
ibraryData <-as.factor(libraryData$學院)
ibraryData <-ymd_hms(libraryData$借閱時間,tz="Asia/Taipei")
ibraryData <-as.factor(libraryData$書籍館藏地)
ibraryData <-as.factor(libraryData$書籍類別)
class(libraryData$借閱時間)
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),as.factor(libraryData$書籍館藏地),as.factor(libraryData$書籍類別)
)
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library(lubridate)
libraryData %>%
mutate(
學院=as.factor(學院),
書籍館藏地=as.factor(書籍館藏地),
書籍類別=as.factor(書籍類別),
借閱時間=ymd_hms(借閱時間,tz="Asia/Taipei")
) -> libraryData
library(lubridate)
libraryData %>%
mutate(
學院=as.factor(學院),
書籍館藏地=as.factor(書籍館藏地),
書籍類別=as.factor(書籍類別),
借閱時間=ymd_hms(借閱時間,tz="Asia/Taipei")
) -> libraryData
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library(lubridate)
libraryData <-
mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library("readr", lib.loc="~/R/win-library/3.5")
library("googlesheets", lib.loc="~/R/win-library/3.5")
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library("readr", lib.loc="~/R/win-library/3.5")
library("stringr", lib.loc="~/R/win-library/3.5")
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library(lubridate)
libraryData <- mutate(as.factor(libraryData$學院),
ymd_hms(libraryData$借閱時間,tz="Asia/Taipei"),
as.factor(libraryData$書籍館藏地),
as.factor(libraryData$書籍類別))
library(lubridate)
libraryData %>%
mutate_at(
vars(學院,書籍館藏地,書籍類別),
funs(
as.factor(.)
)
) -> libraryData
library(lubridate)
libraryData %>%
mutate_at(
vars(學院,書籍館藏地,書籍類別),
funs(
as.factor(.)
)
) -> libraryData
libraryData %>%
mutate(
借閱時間=ymd_hms(借閱時間,tz="Asia/Taipei")
) -> libraryData
## 1
max(libraryData$讀者借閱冊數)-> maxNumber
min(libraryData$讀者借閱冊數)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 2
max(libraryData$入學年)-> maxNumber
min(libraryData$入學年)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 3
max(libraryData$書籍上架年月)-> maxNumber
min(libraryData$書籍上架年月)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值:",maxNumber,"最小值:",minNumber)
}
View(最大小函數)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值:",maxNumber,"最小值:",minNumber)
}
最大小函數(libraryData$讀者借閱冊數)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值: ",maxNumber,"最小值: ",minNumber)
}
最大小函數(libraryData$讀者借閱冊數)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值: ",maxNumber," 最小值: ",minNumber)
}
最大小函數(libraryData$讀者借閱冊數)
not_numeric <- function(x){
!is.numeric(x)
}
not_numeric <- function(x){
class(x)==numeric
}
not_numeric <- function(x){
class(x)==numeric
}
not_numeric(2201)
not_numeric <- function(x){
!is.numeric(x)
}
not_numeric(2201)
not_numeric <- function(x){
!is.numeric(x)
}
not_numeric(libraryData$學號)
libraryData %>%
select(讀者借閱冊數,書籍出版日期)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
)
not_numeric(libraryData$書籍出版日期)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
)
not_numeric(libraryData$書籍出版日期)
class(libraryData$書籍出版日期)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
)
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
View(很快)
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(1)
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(2)
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
select(libraryData$借閱時間,"2011-09-13 13:39:13")
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
select("2011-09-13 13:39:13")
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
libraryData$借閱時間["2011-09-13 13:39:13"]
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
libraryData$借閱時間("2011-09-13 13:39:13")
很快 <- function(x){
(libraryData$借閱時間 - libraryData$書籍上架年月) %>%
min(.)
}
很快(x)
libraryData$借閱時間["2011-09-13 13:39:13"]
libraryData %>%
group_by(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
)
is.na(libraryData$書籍出版日期)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
NA=F
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期)
NA==F
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期),
NA==F
)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期),
最大書籍出版日期=max(書籍出版日期),
NA=F
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期,NA=F),
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期,NA==F),
最大書籍出版日期=max(書籍出版日期,NA==F),
)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期,na.rm=F),
最大書籍出版日期=max(書籍出版日期,na.rm==F),
)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期,na.rm=T),
最大書籍出版日期=max(書籍出版日期,na.rm=T),
)
is.na(libraryData$書籍出版日期)%>%select(.)
is.na(libraryData$書籍出版日期)=T
is.na(libraryData$書籍出版日期)=T -> NA
is.na(libraryData$書籍出版日期)=T-> sub_NA
library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
## 1
max(libraryData$讀者借閱冊數)-> maxNumber
min(libraryData$讀者借閱冊數)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 2
max(libraryData$入學年)-> maxNumber
min(libraryData$入學年)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 3
max(libraryData$書籍上架年月)-> maxNumber
min(libraryData$書籍上架年月)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值: ",maxNumber," 最小值: ",minNumber)
}
最大小函數(libraryData$讀者借閱冊數)
not_numeric <- function(x){
!is.numeric(x)
}
not_numeric(libraryData$學號)
is.na(libraryData$書籍出版日期)=T-> sub_NA
sub_NA
sub_Na <-is.na(libraryData$書籍出版日期)=T
"sub_Na" <-is.na(libraryData$書籍出版日期)=T
sub_Na <-is.na(libraryData$書籍出版日期)=T
View(libraryData)
View(libraryData)
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
libraryData <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/library100_102.csv")
library(lubridate)
libraryData %>%
mutate_at(
vars(學院,書籍館藏地,書籍類別),
funs(
as.factor(.)
)
) -> libraryData
libraryData %>%
mutate(
借閱時間=ymd_hms(借閱時間,tz="Asia/Taipei")
) -> libraryData
## 1
max(libraryData$讀者借閱冊數)-> maxNumber
min(libraryData$讀者借閱冊數)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 2
max(libraryData$入學年)-> maxNumber
min(libraryData$入學年)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
## 3
max(libraryData$書籍上架年月)-> maxNumber
min(libraryData$書籍上架年月)-> minNumber
paste0("最大值： ",maxNumber, " 最小值： ",minNumber)
最大小函數 <- function(x){
max(x)-> maxNumber
min(x)-> minNumber
paste0("最大值: ",maxNumber," 最小值: ",minNumber)
}
最大小函數(libraryData$讀者借閱冊數)
not_numeric <- function(x){
!is.numeric(x)
}
not_numeric(libraryData$學號)
libraryData %>%
select(讀者借閱冊數,書籍出版日期) %>%
summarise(
讀者平均借閱冊數=mean(讀者借閱冊數),
最小書籍出版日期=min(書籍出版日期,na.rm=T),
最大書籍出版日期=max(書籍出版日期,na.rm=T),
)
select(libraryData$書籍名稱)
library(readr); library(dplyr); library(stringr); library(lubridate)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
## ----ans1b1--------------------------------------------------------------
"sex" <- factor(classSurvey$性別)
## ----ans1b2--------------------------------------------------------------
學號 <- str_sub(hwGrades$學號,2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
## ----ans1b3--------------------------------------------------------------
hwGrades$學號 %in% classSurvey$學號
## ----ans1b4--------------------------------------------------------------
which(classSurvey$學號=="4104d245c7")
## ----ans1b5--------------------------------------------------------------
which(hwGrades$學號=="4104d245c7")-> loc
hwGrades[loc,]$Exercise3
## ----ans11---------------------------------------------------------------
classSurvey$性別 %>% table() %>%
{./sum(.)} -> tbSex
tbSex
## ----ans12---------------------------------------------------------------
classSurvey$課外活動 %>%
str_detect("團隊活動") -> hasGroupActivity
hasGroupActivity %>%  sum
## ----ans131--------------------------------------------------------------
isFemale <- classSurvey$性別=="女"
## ----ans132--------------------------------------------------------------
classSurvey[isFemale,]->subsample
## ----ans133--------------------------------------------------------------
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
tbFemale
aaa <- c("a","b",NA)
is.na(aaa)
## ----ans14---------------------------------------------------------------
hwGrades %>%
select(c(2:4)) %>%
mutate_all(
funs(
!is.na(.)
)
) -> hwGrades2
hwGrades2 %>% rowSums() -> hwGrades$交作業次數
hwGrades
## ----ans15---------------------------------------------------------------
hwGrades %>%
select(hw1,hw2,Exercise3) %>%
{rowSums(.,na.rm=T)} -> 總成績
hwGrades$平均成績 <- 總成績/3
hwGrades
## ----ans16---------------------------------------------------------------
hwGrades$學號 %in% classSurvey$學號 -> isSurveyed
hwGradesSubsample <- hwGrades[isSurveyed,]
## ----ans17---------------------------------------------------------------
classSurvey$學號[isFemale] -> 女性學號
hwGradesSubsample$女性 <- hwGradesSubsample$學號 %in% 女性學號
hwGradesSubsample
## ----ans18---------------------------------------------------------------
hwGradesSubsample$平均成績[(hwGradesSubsample$女性==F)] %>%
mean
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
hwGradesSubsample$有團活 <- hwGradesSubsample$學號 %in% 有團隊的學號
hwGradesSubsample$平均成績[(hwGradesSubsample$女性==T & hwGradesSubsample$有團活==T)] %>%
mean -> meanGradeFemaleWithAct
meanGradeFemaleWithAct
hwSubmit <- read.csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit <-read.csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit<- read.csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
